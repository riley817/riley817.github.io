<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 9 : Go ë³‘í–‰ì²˜ë¦¬ - ğŸğŸ¥ğŸ¥– ë¼ì¼ë¦¬ì˜ ì½”ë“œ ë¶€ìŠ¤ëŸ¬ê¸° ğŸğŸ¥ğŸ¥–</title><meta name="Description" content="Riley&#39;s DevLog"><meta property="og:url" content="https://riley817.github.io/easy-golang-section9/">
  <meta property="og:site_name" content="ğŸğŸ¥ğŸ¥– ë¼ì¼ë¦¬ì˜ ì½”ë“œ ë¶€ìŠ¤ëŸ¬ê¸° ğŸğŸ¥ğŸ¥–">
  <meta property="og:title" content="[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 9 : Go ë³‘í–‰ì²˜ë¦¬">
  <meta property="og:description" content="ì¸í”„ëŸ° ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì • ê°•ì˜ ì •ë¦¬
9.1 ê³ ë£¨í‹´ 9.1.1 GoRoutine goroutineì€ go ëŸ°íƒ€ì„ì´ ê´€ë¦¬í•˜ëŠ” lightweight ë…¼ë¦¬ì (ê°€ì¥ì ) Threadì´ë‹¤. ìƒì„± ë°©ë²•ì´ ë§¤ìš° ê°„ë‹¨í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ë§¤ìš° ì ê²Œ ì‚¬ìš©í•œë‹¤. â†’ ìˆ˜ ë§ì€ ê³ ë£¨í‹´ì„ ë™ì‹œì— ìƒì„± ë° ì‹¤í–‰ì´ ê°€ëŠ¥ Javaë‚˜ Pythonì˜ ìŠ¤ë ˆë“œëŠ” MBë‹¨ìœ„ì¸ ë°˜ë©´ì— GO KB ë‹¨ìœ„ì´ë‹¤. ë¹„ë™ê¸°ì  asynchronously í•¨ìˆ˜ ë£¨í‹´ì„ ì‹¤í–‰ í•œë‹¤. ì±„ë„ì„ í†µí•´ ë£¨í‹´ê°„ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤. ê³µìœ  ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©ì‹œì— ì •í™•í•œ ë™ê¸°í™” ì½”ë”©ì´ í•„ìš”í•˜ë‹¤. ì‹±ê¸€ ë£¨í‹´ì— ë¹„í•´ í•­ìƒ ë¹ ë¥´ì§€ëŠ” ì•Šë‹¤.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2021-04-15T22:39:29+09:00">
    <meta property="article:modified_time" content="2024-07-01T23:24:23+09:00">
    <meta property="article:tag" content="GO">
    <meta property="og:image" content="https://riley817.github.io/icon.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://riley817.github.io/icon.png">
  <meta name="twitter:title" content="[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 9 : Go ë³‘í–‰ì²˜ë¦¬">
  <meta name="twitter:description" content="ì¸í”„ëŸ° ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì • ê°•ì˜ ì •ë¦¬
9.1 ê³ ë£¨í‹´ 9.1.1 GoRoutine goroutineì€ go ëŸ°íƒ€ì„ì´ ê´€ë¦¬í•˜ëŠ” lightweight ë…¼ë¦¬ì (ê°€ì¥ì ) Threadì´ë‹¤. ìƒì„± ë°©ë²•ì´ ë§¤ìš° ê°„ë‹¨í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ë§¤ìš° ì ê²Œ ì‚¬ìš©í•œë‹¤. â†’ ìˆ˜ ë§ì€ ê³ ë£¨í‹´ì„ ë™ì‹œì— ìƒì„± ë° ì‹¤í–‰ì´ ê°€ëŠ¥ Javaë‚˜ Pythonì˜ ìŠ¤ë ˆë“œëŠ” MBë‹¨ìœ„ì¸ ë°˜ë©´ì— GO KB ë‹¨ìœ„ì´ë‹¤. ë¹„ë™ê¸°ì  asynchronously í•¨ìˆ˜ ë£¨í‹´ì„ ì‹¤í–‰ í•œë‹¤. ì±„ë„ì„ í†µí•´ ë£¨í‹´ê°„ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤. ê³µìœ  ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©ì‹œì— ì •í™•í•œ ë™ê¸°í™” ì½”ë”©ì´ í•„ìš”í•˜ë‹¤. ì‹±ê¸€ ë£¨í‹´ì— ë¹„í•´ í•­ìƒ ë¹ ë¥´ì§€ëŠ” ì•Šë‹¤.">
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://riley817.github.io/easy-golang-section9/" /><link rel="prev" href="https://riley817.github.io/easy-golang-section8/" /><link rel="next" href="https://riley817.github.io/easy-golang-section10/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 9 : Go ë³‘í–‰ì²˜ë¦¬",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/riley817.github.io\/easy-golang-section9\/"
        },"image": ["https:\/\/riley817.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "GO","wordcount":  3670 ,
        "url": "https:\/\/riley817.github.io\/easy-golang-section9\/","datePublished": "2021-04-15T22:39:29+09:00","dateModified": "2024-07-01T23:24:23+09:00","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/riley817.github.io\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "riley"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="ğŸğŸ¥ğŸ¥– ë¼ì¼ë¦¬ì˜ ì½”ë“œ ë¶€ìŠ¤ëŸ¬ê¸° ğŸğŸ¥ğŸ¥–"><span class="header-title-pre"><i class='fa-brands fa-github-alt'></i>&nbsp;</span>Riley&#39;s CodeCrumbs</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="ğŸğŸ¥ğŸ¥– ë¼ì¼ë¦¬ì˜ ì½”ë“œ ë¶€ìŠ¤ëŸ¬ê¸° ğŸğŸ¥ğŸ¥–"><span class="header-title-pre"><i class='fa-brands fa-github-alt'></i>&nbsp;</span>Riley&#39;s CodeCrumbs</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 9 : Go ë³‘í–‰ì²˜ë¦¬</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/riley817" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>riley</a></span>&nbsp;<span class="post-category">included in <a href="/categories/%EC%89%BD%EA%B3%A0-%EB%B9%A0%EB%A5%B4%EA%B2%8C-%EB%81%9D%EB%82%B4%EB%8A%94-go%EC%96%B8%EC%96%B4-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%95%B5%EC%8B%AC-%EA%B8%B0%EC%B4%88-%EC%9E%85%EB%AC%B8-%EA%B3%BC%EC%A0%95/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2021-04-15">2021-04-15</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;3670 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;18 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#91-ê³ ë£¨í‹´">9.1 ê³ ë£¨í‹´</a>
      <ul>
        <li><a href="#911-goroutine">9.1.1 GoRoutine</a>
          <ul>
            <li><a href="#ë©€í‹°-ìŠ¤ë ˆë“œì˜-ì¥ì ê³¼-ë‹¨ì ">ë©€í‹° ìŠ¤ë ˆë“œì˜ ì¥ì ê³¼ ë‹¨ì </a></li>
            <li><a href="#ê³ ë£¨í‹´-ê¸°ì´ˆì‚¬ìš©-ì˜ˆì œ">ê³ ë£¨í‹´ ê¸°ì´ˆì‚¬ìš© ì˜ˆì œ</a></li>
            <li><a href="#goroutine-ë°˜ë³µë¬¸-ì˜ˆì œ">goroutine ë°˜ë³µë¬¸ ì˜ˆì œ</a></li>
          </ul>
        </li>
        <li><a href="#912-ë©€í‹°-ì½”ì–´-ë‹¤ì¤‘-cpu-í™œìš©í•˜ê¸°">9.1.2 ë©€í‹° ì½”ì–´ (ë‹¤ì¤‘ CPU) í™œìš©í•˜ê¸°</a></li>
        <li><a href="#913-í´ë¡œì €ë¥¼-ê³ ë£¨í‹´ìœ¼ë¡œ-ì‹¤í–‰í• -ë•Œ-ì£¼ì˜í• -ì ">9.1.3 í´ë¡œì €ë¥¼ ê³ ë£¨í‹´ìœ¼ë¡œ ì‹¤í–‰í•  ë•Œ ì£¼ì˜í•  ì </a>
          <ul>
            <li><a href="#ê°œì„ ì†ŒìŠ¤">ê°œì„ ì†ŒìŠ¤</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#92-ì±„ë„">9.2 ì±„ë„</a>
      <ul>
        <li><a href="#921-ì±„ë„">9.2.1 ì±„ë„</a></li>
        <li><a href="#922-go-ì±„ë„-ë²„í¼ë§">9.2.2 Go ì±„ë„ ë²„í¼ë§</a>
          <ul>
            <li><a href="#unbuffered-channel">Unbuffered Channel</a></li>
            <li><a href="#buffered-channel">Buffered Channel</a></li>
          </ul>
        </li>
        <li><a href="#923-ì±„ë„-ë‹«ê¸°">9.2.3 ì±„ë„ ë‹«ê¸°</a>
          <ul>
            <li><a href="#ì±„ë„-range">ì±„ë„ Range</a></li>
          </ul>
        </li>
        <li><a href="#924-ì±„ë„-íŒŒë¼ë¯¸í„°">9.2.4 ì±„ë„ íŒŒë¼ë¯¸í„°</a>
          <ul>
            <li><a href="#ë°œì‹ -ì „ìš©-ìˆ˜ì‹ -ì „ìš©-ì±„ë„-ìƒì„±">ë°œì‹  ì „ìš©, ìˆ˜ì‹  ì „ìš© ì±„ë„ ìƒì„±</a></li>
            <li><a href="#ì±„ë„ì„-í•¨ìˆ˜ì˜-ë°˜í™˜-ê°’ìœ¼ë¡œ-ì‚¬ìš©">ì±„ë„ì„ í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ìœ¼ë¡œ ì‚¬ìš©</a></li>
            <li><a href="#ë°˜í™˜-ëœ-ì±„ë„ì„-ì „ë‹¬ë°›ì•„-ë‹¤ì‹œ-ì±„ë„ë¡œ-ë°˜í™˜">ë°˜í™˜ ëœ ì±„ë„ì„ ì „ë‹¬ë°›ì•„ ë‹¤ì‹œ ì±„ë„ë¡œ ë°˜í™˜</a></li>
          </ul>
        </li>
        <li><a href="#925-ì±„ë„-select-êµ¬ë¬¸">9.2.5 ì±„ë„ Select êµ¬ë¬¸</a></li>
      </ul>
    </li>
    <li><a href="#93-ë™ê¸°í™”">9.3 ë™ê¸°í™”</a>
      <ul>
        <li><a href="#931-ê³ ë£¨í‹´-ë™ê¸°í™”">9.3.1 ê³ ë£¨í‹´ ë™ê¸°í™”</a>
          <ul>
            <li><a href="#ë™ê¸°í™”ë¥¼-ì‚¬ìš©í•˜ì§€-ì•Šì€-ê²½ìš°">ë™ê¸°í™”ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°</a></li>
          </ul>
        </li>
        <li><a href="#932-mutex">9.3.2 Mutex</a>
          <ul>
            <li><a href="#ë™ê¸°í™”ë¥¼-ì‚¬ìš©í•œ-ì˜ˆì œ">ë™ê¸°í™”ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œ</a></li>
          </ul>
        </li>
        <li><a href="#933-ì“°ê¸°-ì½ê¸°-ì „ìš©-mutex">9.3.3 ì“°ê¸°, ì½ê¸° ì „ìš© Mutex</a>
          <ul>
            <li><a href="#ë™ê¸°í™”-ì‚¬ìš©í•˜ì§€-ì•Šì€-ê²½ìš°-ì˜ˆì œ">ë™ê¸°í™” ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ì˜ˆì œ</a></li>
            <li><a href="#ë™ê¸°í™”-ì‚¬ìš©-ì˜ˆì œ">ë™ê¸°í™” ì‚¬ìš© ì˜ˆì œ</a></li>
          </ul>
        </li>
        <li><a href="#934-ë™ê¸°í™”-ìƒíƒœ-ë©”ì†Œë“œ">9.3.4 ë™ê¸°í™” ìƒíƒœ ë©”ì†Œë“œ</a></li>
        <li><a href="#935-synconce">9.3.5 sync.Once</a></li>
        <li><a href="#936-syncwaitgroup">9.3.6 sync.WaitGroup</a></li>
        <li><a href="#937-ì›ìì„±ì„-ë³´ì¥í•˜ëŠ”-ì—°ì‚°">9.3.7 ì›ìì„±ì„ ë³´ì¥í•˜ëŠ” ì—°ì‚°</a>
          <ul>
            <li><a href="#syncatomic-íŒ¨í‚¤ì§€ê°€-ì œê³µí•˜ëŠ”-í•¨ìˆ˜">sync/atomic íŒ¨í‚¤ì§€ê°€ ì œê³µí•˜ëŠ” í•¨ìˆ˜</a></li>
            <li><a href="#ì›ìì„±ì„-ì‚¬ìš©í•˜ì§€-ì•Šì€-ê²½ìš°">ì›ìì„±ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°</a></li>
            <li><a href="#ì›ìì„±-ì—°ì‚°ìë¥¼-ì‚¬ìš©í•œ-ê²½ìš°-ì˜ˆì œ">ì›ìì„± ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œ ê²½ìš° ì˜ˆì œ</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>ì¸í”„ëŸ° ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì • ê°•ì˜ ì •ë¦¬</p>
</blockquote>
<h2 id="91-ê³ ë£¨í‹´">9.1 ê³ ë£¨í‹´</h2>
<h3 id="911-goroutine">9.1.1 GoRoutine</h3>
<ul>
<li><strong>goroutine</strong>ì€ go ëŸ°íƒ€ì„ì´ ê´€ë¦¬í•˜ëŠ” lightweight ë…¼ë¦¬ì (ê°€ì¥ì ) Threadì´ë‹¤.</li>
<li>ìƒì„± ë°©ë²•ì´ ë§¤ìš° ê°„ë‹¨í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ë§¤ìš° ì ê²Œ ì‚¬ìš©í•œë‹¤. â†’ ìˆ˜ ë§ì€ ê³ ë£¨í‹´ì„ ë™ì‹œì— ìƒì„± ë° ì‹¤í–‰ì´ ê°€ëŠ¥
<ul>
<li>Javaë‚˜ Pythonì˜ ìŠ¤ë ˆë“œëŠ” MBë‹¨ìœ„ì¸ ë°˜ë©´ì— GO KB ë‹¨ìœ„ì´ë‹¤.</li>
</ul>
</li>
<li>ë¹„ë™ê¸°ì  <code>asynchronously</code> í•¨ìˆ˜ ë£¨í‹´ì„ ì‹¤í–‰ í•œë‹¤.</li>
<li>ì±„ë„ì„ í†µí•´ ë£¨í‹´ê°„ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.</li>
<li>ê³µìœ  ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©ì‹œì— ì •í™•í•œ ë™ê¸°í™” ì½”ë”©ì´ í•„ìš”í•˜ë‹¤.</li>
<li>ì‹±ê¸€ ë£¨í‹´ì— ë¹„í•´ í•­ìƒ ë¹ ë¥´ì§€ëŠ” ì•Šë‹¤.</li>
</ul>
<h4 id="ë©€í‹°-ìŠ¤ë ˆë“œì˜-ì¥ì ê³¼-ë‹¨ì ">ë©€í‹° ìŠ¤ë ˆë“œì˜ ì¥ì ê³¼ ë‹¨ì </h4>
<p><strong>ì¥ì </strong></p>
<ul>
<li>ì‘ë‹µì„±ì´ í–¥ìƒ</li>
<li>ìì›ê³µìœ ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš© ê°€ëŠ¥</li>
<li>ì‘ì—…ì´ ë¶„ë¦¬ë˜ì–´ ì½”ë“œ ê°„ê²°</li>
</ul>
<p><strong>ë‹¨ì </strong></p>
<ul>
<li>êµ¬í˜„í•˜ê¸° ì–´ë ¤ì›€.</li>
<li>í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹…ì´ ì–´ë µë‹¤</li>
<li>ì „ì²´ í”„ë¡œì„¸ìŠ¤ì˜ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë°œìƒ</li>
<li>ì„±ëŠ¥ ì €í•˜</li>
<li>ë™ê¸°í™” ì½”ë”©ì„ ë°˜ë“œì‹œ ìˆ™ì§€</li>
<li>ë°ë“œë½(êµì°©ìƒíƒœ)</li>
</ul>
<h4 id="ê³ ë£¨í‹´-ê¸°ì´ˆì‚¬ìš©-ì˜ˆì œ">ê³ ë£¨í‹´ ê¸°ì´ˆì‚¬ìš© ì˜ˆì œ</h4>
<ul>
<li>ë©”ì¸ ë£¨í‹´ì´ ì¢…ë£Œë˜ë©´ ì„œë¸Œë£¨í‹´(exe2, exe3) ë„ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì— ë©”ì¸ë£¨í‹´ì˜ ì‹¤í–‰ì‹œê°„ì„ ì¤Œ</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">exe1</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;exe1 func start&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span> <span class="c1">// 1ì´ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;exe1 func end&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">exe2</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;exe2 func start&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span> <span class="c1">// 1ì´ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;exe2 func end&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">exe3</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;exe3 func start&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span> <span class="c1">// 1ì´ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;exe3 func end&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ê³ ë£¨í‹´(Goroutine) ê¸°ì´ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">exe1</span><span class="p">()</span> <span class="c1">// ê°€ì¥ ë¨¼ì € ì‹¤í–‰ (ì¼ë°˜ì ì¸ ì‹¤í–‰ íë¦„)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// exe2()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// exe3()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main Routine Start&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ë³„ë„ì˜ ì‹¤í–‰ íë¦„ì„ ìƒì„±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">go</span> <span class="nf">exe2</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">go</span> <span class="nf">exe3</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main Routine End&#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Result</p>
<blockquote>
<p>exe1 func start 2021-04-13 11:40:12.15236 +0900 KST m=+0.000091278<br>
exe1 func end 2021-04-13 11:40:13.157639 +0900 KST m=+1.005357230<br>
Main Routine Start 2021-04-13 11:40:13.157766 +0900 KST m=+1.005484383<br>
exe3 func start 2021-04-13 11:40:13.157812 +0900 KST m=+1.005529633<br>
exe2 func start 2021-04-13 11:40:13.157855 +0900 KST m=+1.005573044<br>
exe2 func end 2021-04-13 11:40:14.162966 +0900 KST m=+2.010670709<br>
exe3 func end 2021-04-13 11:40:14.163006 +0900 KST m=+2.010710760<br>
Main Routine End 2021-04-13 11:40:17.158061 +0900 KST m=+5.005725592<br>
<br>
// exe2, exe3ì€ ë³„ë„ì˜ ì‹¤í–‰íë¦„ì— ë”°ë¼ ì‹¤í–‰ëœë‹¤.</p>
</blockquote>
</li>
</ul>
<h4 id="goroutine-ë°˜ë³µë¬¸-ì˜ˆì œ">goroutine ë°˜ë³µë¬¸ ì˜ˆì œ</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">exe</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s">&#34;Start : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s">&#34;&gt;&gt;&gt;&gt;&gt;&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s">&#34;End : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ê³ ë£¨í‹´ (Goroutine)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">exe</span><span class="p">(</span><span class="s">&#34;t1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main Routine Start : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">go</span> <span class="nf">exe</span><span class="p">(</span><span class="s">&#34;t2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">go</span> <span class="nf">exe</span><span class="p">(</span><span class="s">&#34;t3&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span> <span class="c1">// time.Second, Minute, Hour, Millisecond ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main Routine End : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="912-ë©€í‹°-ì½”ì–´-ë‹¤ì¤‘-cpu-í™œìš©í•˜ê¸°">9.1.2 ë©€í‹° ì½”ì–´ (ë‹¤ì¤‘ CPU) í™œìš©í•˜ê¸°</h3>
<ul>
<li>GoëŠ” ë””í´íŠ¸ë¡œ 1ê°œì˜ CPUë¥¼ ì‚¬ìš©í•œë‹¤. â†’ ì—¬ëŸ¬ê°œì˜ Go ë£¨í‹´ì„ ë§Œë“¤ë”ë¼ë„ 1 ê°œì˜ CPUì—ì„œ ì‘ì—…ì„ ì‹œë¶„í• í•˜ì—¬ ì²˜ë¦¬í•œë‹¤ â‡’ <strong>ë™ì‹œì„±(concurrent)</strong> ì²˜ë¦¬</li>
<li>ë§Œì•½ ë¨¸ì‹ ì´ ë³µìˆ˜ê°œì˜ CPUë¥¼ ê°€ì§„ê²½ìš°, Go í”„ë¡œê·¸ë¨ì„ ë‹¤ì¤‘ CPUì—ì„œ <strong>ë³‘ë ¬ì²˜ë¦¬(parallel)</strong> í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ë³‘ë ¬ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” <code>runtime.GOMAXPROCS(CPUìˆ˜)</code> í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;math/rand&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">exe</span><span class="p">(</span><span class="nx">name</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">r</span> <span class="o">:=</span> <span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s">&#34;Start : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s">&#34;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&#34;</span><span class="p">,</span> <span class="nx">r</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s">&#34;End : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span> <span class="c1">// í˜„ ì‹œìŠ¤í…œ cpu ì½”ì–´ ê°œìˆ˜ ë°˜í™˜ í›„ ì„¤ì •
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Current System CPU : &#34;</span><span class="p">,</span> <span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="c1">// ì„¤ì • ê°’ ì¶œë ¥
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    
</span></span><span class="line"><span class="cl">    <span class="c1">// Example 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main Routine Start : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">go</span> <span class="nf">exe</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="c1">// GO ROUTINE 100ê°œ ìƒì„±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main Routine End : &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="913-í´ë¡œì €ë¥¼-ê³ ë£¨í‹´ìœ¼ë¡œ-ì‹¤í–‰í• -ë•Œ-ì£¼ì˜í• -ì ">9.1.3 í´ë¡œì €ë¥¼ ê³ ë£¨í‹´ìœ¼ë¡œ ì‹¤í–‰í•  ë•Œ ì£¼ì˜í•  ì </h3>
<p>ë°˜ë³µë¬¸ ë‚´ì— ê³ ë£¨í‹´ì„ ì‚½ì…í•˜ì—¬ í´ë¡œì €ë¥¼ í†µí•´ ë°”ê¹¥ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ë•Œ ìœ ì˜í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Closure Test =&gt; &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ì´ë ‡ê²Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¶œë ¥ì´ iê°€ 0ë¶€í„° 999 ê¹Œì§€ ì¶œë ¥ ë  ê²ƒì´ë¼ ì˜ˆìƒí•˜ì§€ë§Œ ê²°ê³¼ëŠ” ë‹¤ë¥´ë‹¤.</p>
<ul>
<li>
<p>ì‹¤í–‰ ê²°ê³¼</p>
<blockquote>
<p>Closure Test =&gt;  1000<br>
Closure Test =&gt;  1000<br>
Closure Test =&gt;  1000<br>
Closure Test =&gt;  1000<br>
Closure Test =&gt;  1000<br>
Closure Test =&gt;  1000<br>
Closure Test =&gt;  1000<br>
&hellip;</p>
</blockquote>
</li>
</ul>
<p>ì¼ë°˜ì ìœ¼ë¡œ ë°˜ë³µë¬¸ í´ë¡œì €ëŠ” ì¦‰ì‹œ ì‹¤í–‰ë˜ì§€ë§Œ, ê³ ë£¨í‹´ìœ¼ë¡œ í´ë¡œì €ë¥¼ ì‚¬ìš©í•  ë•Œ ë°˜ë³µë¬¸ì´ ì¢…ë£Œëœ ë’¤ ê°€ì¥ ë‚˜ì¤‘ì— ì‹¤í–‰ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ i ê°€ ë°˜ë³µë¬¸ì„ ë‹¤ ëŒê³ ë‚œ 1000ì˜ ê°’ì´ ë‚˜ì˜¤ê²Œ ëœë‹¤. ê³ ë£¨í‹´ í´ë¡œì €ë¥¼ ì‚¬ìš©í• ë•Œ ë°˜ë³µë¬¸ì— ì˜í•´ ë³€ê²½ë˜ëŠ” ê°’ì€ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê²¨ì£¼ì–´ì•¼ë§Œ ì˜¬ë°”ë¥¸ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.</p>
<h4 id="ê°œì„ ì†ŒìŠ¤">ê°œì„ ì†ŒìŠ¤</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="o">:=</span> <span class="s">&#34;Go Routine Closure : &#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="nx">n</span><span class="p">,</span> <span class="s">&#34; - &#34;</span><span class="p">,</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Now</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        <span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="92-ì±„ë„">9.2 ì±„ë„</h2>
<h3 id="921-ì±„ë„">9.2.1 ì±„ë„</h3>
<ul>
<li>Go ì±„ë„ì€ ê³ ë£¨í‹´ê°„ì˜ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” í†µë¡œë¼ê³  í•  ìˆ˜ ìˆë‹¤.</li>
<li>ê³ ë£¨í‹´ ë¼ë¦¬ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ë° ì‚¬ìš©ë˜ë©°, ìƒíƒœí¸ì´ ì¤€ë¹„ë  ë•Œê¹Œì§€ ì±„ë„ì—ì„œ ëŒ€ê¸°í•¨ìœ¼ë¡œì„œ ë³„ë„ì˜ <code>Lock</code> ì„ ê±¸ì§€ì•Šê³  ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.</li>
<li>ì±„ë„ì€ <code>make()</code> í•¨ìˆ˜ë¥¼ í†µí•´ ë¯¸ë¦¬ ìƒì„±ë˜ì–´ì•¼ í•˜ë©°(=ì°¸ì¡°íƒ€ì…ì„) ë™ê¸°ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.</li>
<li>ì§€ì •í•œ ë°ì´í„° íƒ€ì…ë§Œ ì£¼ê³  ë°›ì„ ìˆ˜ ìˆë‹¤. â†’ <code>interface{}</code> ë¥¼ í†µí•´ ìë£Œí˜• ìƒê´€ì—†ì´ ì „ì†¡ ë° ìˆ˜ì‹  ê°€ëŠ¥</li>
<li>ë©€í‹°í”„ë¡œì„¸ì‹± ì²˜ë¦¬ì—ì„œ êµì°©ìƒíƒœ(ê²½ìŸìƒíƒœ)ì— ì£¼ì˜í•´ì•¼ í•œë‹¤.</li>
<li><code>&lt;-</code>, <code>-&gt;</code> ì„ í†µí•´ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤.
<ul>
<li><strong>ì±„ë„ â† ë°ì´í„°</strong> : ì†¡ì‹ </li>
<li><strong>ë³€ìˆ˜ â† ì±„ë„</strong> : ìˆ˜ì‹ </li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">rangeSum</span><span class="p">(</span><span class="nx">rg</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">c</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sum</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">rg</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">sum</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// ì±„ë„(Channel)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="nf">rangeSum</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="nf">rangeSum</span><span class="p">(</span><span class="mi">7000</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="nf">rangeSum</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nx">result1</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">c</span>
</span></span><span class="line"><span class="cl">  <span class="nx">result2</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">c</span>
</span></span><span class="line"><span class="cl">  <span class="nx">result3</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">c</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Example 1 : &#34;</span><span class="p">,</span> <span class="nx">result1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Example 2 : &#34;</span><span class="p">,</span> <span class="nx">result2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Example 3 : &#34;</span><span class="p">,</span> <span class="nx">result3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Result</p>
<blockquote>
<p>Example 1 :  12502500<br>
Example 2 :  500500<br>
Example 3 :  24503500</p>
</blockquote>
</li>
</ul>
<h3 id="922-go-ì±„ë„-ë²„í¼ë§">9.2.2 Go ì±„ë„ ë²„í¼ë§</h3>
<ul>
<li><code>Unbuffered Channel</code> ,<code>Buffered Channel</code>  ë‘ê°€ì§€ì˜ ì±„ë„ì´ ìˆë‹¤.</li>
</ul>
<h4 id="unbuffered-channel">Unbuffered Channel</h4>
<ul>
<li>ìˆ˜ì‹ ìê°€ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ ê¹Œì§€ ì†¡ì‹ ìê°€ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ ì±„ë„ì— ë¬¶ì—¬ ìˆê²Œ ëœë‹¤.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Channel
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">// ë™ê¸° : ë²„í¼ ë¯¸ì‚¬ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">cnt</span> <span class="o">:=</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">          <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Go =&gt; &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}()</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;-</span> <span class="nx">ch</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main : &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Result</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/_2021-04-15_10.14.34.png"
        data-srcset="/posts/images//go/_2021-04-15_10.14.34.png, /posts/images//go/_2021-04-15_10.14.34.png 1.5x, /posts/images//go/_2021-04-15_10.14.34.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/_2021-04-15_10.14.34.png"
        title="2021-04-15_10.14.34.png" /></p>
</li>
</ul>
<h4 id="buffered-channel">Buffered Channel</h4>
<ul>
<li>ìˆ˜ì‹ ìê°€ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì–´ ìˆì§€ ì•Šì„ ì§€ë¼ë„ ì§€ì •ëœ ë²„í¼ë§Œí¼ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ê³„ì† ë‹¤ë¥¸ ì¼ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>make(chan type, N)</code> í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©° N ì— ì‚¬ìš©í•  ë²„í¼ì˜ ê°œìˆ˜ë¥¼ ë„£ëŠ”ë‹¤.</li>
<li><strong>ë°œì‹ </strong> : ê°€ë“ì°¨ë©´ ëŒ€ê¸°, ë¹„ì–´ìˆìœ¼ë©´ ë™ì‘</li>
<li><strong>ìˆ˜ì‹ </strong> : ë¹„ì–´ìˆìœ¼ë©´ ëŒ€ê¸°, ê°€ë“ì°¨ë©´ ì‘ë™</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ch</span>  <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">cnt</span> <span class="o">:=</span> <span class="mi">12</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">          <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Go =&gt; &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}()</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;-</span> <span class="nx">ch</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Main : &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Result</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/_2021-04-15_10.18.26.png"
        data-srcset="/posts/images//go/_2021-04-15_10.18.26.png, /posts/images//go/_2021-04-15_10.18.26.png 1.5x, /posts/images//go/_2021-04-15_10.18.26.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/_2021-04-15_10.18.26.png"
        title="_2021-04-15_10.18.26.png" /></p>
</li>
</ul>
<p>ë²„í¼ ì±„ë„ì˜ ê²½ìš° ìˆ˜ì‹ ìê°€ ë‹¹ì¥ ì—†ë”ë¼ë„ ìµœëŒ€ë²„í¼ ìˆ˜ê¹Œì§€ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.
ë²„í¼ì±„ë„ì„ ì´ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš° <code>fatal error: all goroutines are asleep - deadlock!</code> ì—ëŸ¬ë°œìƒ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="c1">//ìˆ˜ì‹ ìê°€ ì—†ë”ë¼ë„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">101</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="nx">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="923-ì±„ë„-ë‹«ê¸°">9.2.3 ì±„ë„ ë‹«ê¸°</h3>
<ul>
<li>ì±„ë„ì„ ì˜¤í”ˆí•˜ê³  ë°ì´í„°ë¥¼ ì†¡ì‹ í•œ ë’¤ <code>close()</code> í•¨ìˆ˜ë¥¼ í†µí•´ ì±„ë„ì„ ë‹«ì„ ìˆ˜ ìˆë‹¤.</li>
<li>ë‹«íŒ ì±„ë„ì—ì„œ ê°’ì„ ì „ì†¡í•  ê²½ìš° <code>panic</code> ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>
</ul>
<h4 id="ì±„ë„-range">ì±„ë„ Range</h4>
<ul>
<li>ì±„ë„ì—ì„œ ì†¡ì‹ ìê°€ ì†¡ì‹ ì„ í•œ í›„, ì±„ë„ì„ ë‹«ì„ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ìˆ˜ì‹ ìëŠ” ì„ì˜ì˜ ê°¯ìˆ˜ì˜ ë°ì´í„°ë¥¼ ì±„ë„ì´ ë‹«í ë•Œê¹Œì§€ ê³„ì† ìˆ˜ì‹ í•  ìˆ˜ ìˆë‹¤.</li>
<li>rangeë¡œ ìˆœíšŒí•˜ë©´ì„œ ì±„ë„ì´ ë‹«í ë•Œê¹Œì§€ ê°’ì„ êº¼ë‚´ì˜¬ ìˆ˜ ìˆë‹¤.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nb">close</span><span class="p">(</span><span class="nx">ch</span><span class="p">)</span> <span class="c1">// 5íšŒ ì±„ë„ì— ê°’ ì „ì†¡ í›„ ì±„ë„ ë‹«ê¸°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}()</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">ch</span> <span class="p">{</span> <span class="c1">// ì±„ë„ì—ì„œ ê°’ì„ êº¼ë‚´ ì˜¨ë‹¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Example 1 : &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ì±„ë„ì´ ë‹«íŒê²ƒì„ íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ë°›ì•„ ì˜¬ ìˆ˜ ìˆë‹¤.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">7777</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">val1</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">ch</span><span class="p">;</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="924-ì±„ë„-íŒŒë¼ë¯¸í„°">9.2.4 ì±„ë„ íŒŒë¼ë¯¸í„°</h3>
<ul>
<li>ì±„ë„ì„ í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ ì†¡ìˆ˜ì‹ ì„ ëª¨ë‘ í•˜ëŠ” ì±„ë„ì„ ì „ë‹¬í•˜ì§€ë§Œ íŠ¹ë³„íˆ í•´ë‹¹ ì±„ë„ë¡œ ì†¡ì‹  ë° ìˆ˜ì‹  ì „ìš© ì±„ë„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>
<li>ìˆ˜ë°œì‹  ì „ìš© ì±„ë„ ì„¤ì • í›„ ë°©í–¥ì´ ë‹¤ë¥¼ ê²½ìš° ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>
<li><strong>ë°œì‹  ì „ìš©</strong> : channel â† ë°ì´í„°í˜•</li>
<li><strong>ìˆ˜ì‹  ì „ìš©</strong> : â† channel</li>
<li>ì±„ë„ ë˜í•œ í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<h4 id="ë°œì‹ -ì „ìš©-ìˆ˜ì‹ -ì „ìš©-ì±„ë„-ìƒì„±">ë°œì‹  ì „ìš©, ìˆ˜ì‹  ì „ìš© ì±„ë„ ìƒì„±</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ë°œì‹  ì „ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">sendOnly</span><span class="p">(</span><span class="nx">c</span> <span class="kd">chan</span><span class="o">&lt;-</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">cnt</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">c</span> <span class="o">&lt;-</span> <span class="mi">777</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// fmt.Println(&lt;-c) // ìˆ˜ì‹  ì „ìš©ì±„ë„ì—ì„œ ë°œì‹  ì²˜ë¦¬ ì‹œ ì˜ˆì™¸ ë°œìƒ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ìˆ˜ì‹  ì „ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">receiveOnly</span><span class="p">(</span><span class="nx">c</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Received i : &#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">go</span> <span class="nf">sendOnly</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1">// ë°œì‹  ì „ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">go</span> <span class="nf">receiveOnly</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="c1">// ìˆ˜ì‹  ì „ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ì±„ë„ì„-í•¨ìˆ˜ì˜-ë°˜í™˜-ê°’ìœ¼ë¡œ-ì‚¬ìš©">ì±„ë„ì„ í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ìœ¼ë¡œ ì‚¬ìš©</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ìˆ˜ì‹  ì „ìš© ì±„ë„ì„ ë¦¬í„´ê°’ìœ¼ë¡œ ë¦¬í„´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="nx">cnt</span> <span class="kt">int</span><span class="p">)</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sum</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">  <span class="nx">tot</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nx">tot</span> <span class="o">&lt;-</span> <span class="nx">sum</span>
</span></span><span class="line"><span class="cl">  <span class="p">}()</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">tot</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">c</span> <span class="o">:=</span> <span class="nf">sum</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Example 1 &#34;</span><span class="p">,</span>  <span class="o">&lt;-</span><span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ë°˜í™˜-ëœ-ì±„ë„ì„-ì „ë‹¬ë°›ì•„-ë‹¤ì‹œ-ì±„ë„ë¡œ-ë°˜í™˜">ë°˜í™˜ ëœ ì±„ë„ì„ ì „ë‹¬ë°›ì•„ ë‹¤ì‹œ ì±„ë„ë¡œ ë°˜í™˜</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">receiveOnly</span><span class="p">(</span><span class="nx">cnt</span> <span class="kt">int</span><span class="p">)</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">sum</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="nx">tot</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">cnt</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">sum</span> <span class="o">+=</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">tot</span> <span class="o">&lt;-</span> <span class="nx">sum</span>
</span></span><span class="line"><span class="cl">		<span class="nx">tot</span> <span class="o">&lt;-</span> <span class="mi">777</span>
</span></span><span class="line"><span class="cl">		<span class="nx">tot</span> <span class="o">&lt;-</span> <span class="mi">777</span>
</span></span><span class="line"><span class="cl">		<span class="nb">close</span><span class="p">(</span><span class="nx">tot</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">tot</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">total</span><span class="p">(</span><span class="nx">c</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="o">&lt;-</span><span class="kd">chan</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">tot</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">a</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">a</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">i</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="nx">tot</span> <span class="o">&lt;-</span> <span class="nx">a</span>
</span></span><span class="line"><span class="cl">		<span class="nb">close</span><span class="p">(</span><span class="nx">tot</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">tot</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Channel
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Example1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span> <span class="o">:=</span> <span class="nf">receiveOnly</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="c1">// ì±„ë„ ë°˜í™˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">output</span> <span class="o">:=</span> <span class="nf">total</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="c1">// ì±„ë„ ì „ë‹¬ í›„ ë°˜í™˜
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Example 1 : &#34;</span><span class="p">,</span> <span class="o">&lt;-</span><span class="nx">output</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="925-ì±„ë„-select-êµ¬ë¬¸">9.2.5 ì±„ë„ Select êµ¬ë¬¸</h3>
<ul>
<li>selectë¬¸ì€ ì—¬ëŸ¬ ê°œì˜ caseë¬¸ì—ì„œ ê°ê¸° ë‹¤ë¥¸ ì±„ë„ì„ ê¸°ë‹¤ë¦¬ë‹¤ê°€ ë°ì´í„°ê°€ ìˆ˜ì‹ ë˜ë©´ ì¤€ë¹„ëœ ì±„ë„ caseë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.</li>
<li>ì¼íšŒì„± êµ¬ë¬¸ì´ë¯€ë¡œ for (ë°˜ë³µë¬¸) ì•ˆì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤.</li>
<li>ë³µìˆ˜ ì±„ë„ì— ì‹ í˜¸ê°€ ì˜¤ë©´ Go ëŸ°íƒ€ì„ì—ì„œ ëœë¤í•˜ê²Œ í•œê°œë¥¼ ì„ íƒí•œë‹¤.</li>
<li>selectë¬¸ì— defaut ë¬¸ì´ ìˆìœ¼ë©´ caseë¬¸ ì±„ë„ì´ ì¤€ë¹„ë˜ì§€ ì•Šë”ë¼ë„ ê³„ì† ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ default ë¬¸ì„ ì‹¤í–‰í•˜ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ch1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">ch2</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">ch1</span> <span class="o">&lt;-</span> <span class="mi">77</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">250</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">ch2</span> <span class="o">&lt;-</span> <span class="s">&#34;Golang Hi!&#34;</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">500</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">select</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">case</span> <span class="nx">num</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">ch1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Channel 1 =&gt; &#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="k">case</span> <span class="nx">str</span> <span class="o">:=</span> <span class="o">&lt;-</span> <span class="nx">ch2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Channel 2 =&gt; &#34;</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// default:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>				<span class="c1">// fmt.Println(&#34;Default Test !&#34;)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">7</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="93-ë™ê¸°í™”">9.3 ë™ê¸°í™”</h2>
<h3 id="931-ê³ ë£¨í‹´-ë™ê¸°í™”">9.3.1 ê³ ë£¨í‹´ ë™ê¸°í™”</h3>
<ul>
<li>ë‹¤ì¤‘ ì½”ì–´ì—ì„œ ì–´ë–¤ ì‘ì—…ì„ ë¶„í• í•˜ì—¬ ì‘ì—…ì‹œ í•´ë‹¹ ì‘ì—…ê³¼ ë‹¤ë¥¸ ì‘ì—…ì´ ê°™ì€ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ê±´ë“œë¦´ ê²½ìš° ì˜ˆê¸°ì¹˜ ì•Šì€ ë™ì‘ì´ë‚˜ ì¹˜ëª…ì ì´ ì—ëŸ¬ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆë‹¤.</li>
<li>OS ë‚´ë¶€ì ìœ¼ë¡œ ì›ìì  ì—°ì‚°ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ê¸°ë²•ì„ ì‚¬ìš©í•˜ì§€ë§Œ ì‘ìš© í”„ë¡œê·¸ë˜ë¨¸ ì…ì¥ì—ì„œë„ ë©€í‹°ì½”ì–´ë¥¼ ì˜ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì½”ë“œì•ˆì—ì„œ ë™ê¸°í™” ì²˜ë¦¬ê°€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.</li>
</ul>
<h4 id="ë™ê¸°í™”ë¥¼-ì‚¬ìš©í•˜ì§€-ì•Šì€-ê²½ìš°">ë™ê¸°í™”ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// êµ¬ì¡°ì²´ ì„ ì–¸ - ì—¬ëŸ¬ Go Routine ì—ì„œ ì ‘ê·¼í•˜ëŠ” ê³µìœ  ë°ì´í„°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">count</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">num</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">count</span><span class="p">)</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nx">num</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">count</span><span class="p">)</span> <span class="nf">result</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ë™ê¸°í™” ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ì˜ˆì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ì‹œìŠ¤í…œ ì „ì²´ CPU ì‚¬ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">c</span> <span class="o">:=</span> <span class="nx">count</span><span class="p">{</span><span class="nx">num</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">done</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">increment</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="nx">done</span> <span class="o">&lt;-</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">			<span class="nx">runtime</span><span class="p">.</span><span class="nf">Gosched</span><span class="p">()</span> <span class="c1">// ë‹¤ë¥¸ CPU ì—ê²Œ ì–‘ë³´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="o">&lt;-</span> <span class="nx">done</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Result<br>
ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/_2021-04-15_10.56.11.png"
        data-srcset="/posts/images//go/_2021-04-15_10.56.11.png, /posts/images//go/_2021-04-15_10.56.11.png 1.5x, /posts/images//go/_2021-04-15_10.56.11.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/_2021-04-15_10.56.11.png"
        title="_2021-04-15_10.56.11.png" /></li>
</ul>
<h3 id="932-mutex">9.3.2 Mutex</h3>
<ul>
<li><strong>ìƒí˜¸ ë°°ì œ</strong> â†’ ê³ ë£¨í‹´ë“¤ì´ ì„œë¡œ running timeì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê²Œ í•œë‹¤. â†’ ë‹¨ë…ìœ¼ë¡œ ì‹¤í–‰ë˜ê²Œ í•˜ëŠ” ê¸°ìˆ </li>
<li>ì—¬ëŸ¬ ê³ ë£¨í‹´ì—ì„œ ì‘ì—…í•˜ëŠ” ê³µìœ  ë°ì´í„°ë¥¼ ë³´í˜¸í•œë‹¤.</li>
<li><code>sync.Mutex</code> ì„ ì–¸ í›„ <code>Lock</code>, <code>Unlock</code> ì„ ì‚¬ìš©í•œë‹¤.</li>
</ul>
<h4 id="ë™ê¸°í™”ë¥¼-ì‚¬ìš©í•œ-ì˜ˆì œ">ë™ê¸°í™”ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œ</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// êµ¬ì¡°ì²´ ì„ ì–¸ - ì—¬ëŸ¬ Go Routine ì—ì„œ ì ‘ê·¼í•˜ëŠ” ê³µìœ  ë°ì´í„°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">count</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">num</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mutex</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>	<span class="c1">// êµ¬ì¡°ì²´ ë‚´ë¶€ì— ìˆê¸°ë•Œë¬¸ì—
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ê³µìœ  ë°ì´í„°ê°€ ë³€ê²½ì´ ë˜ëŠ” ë¶€ë¶„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">count</span><span class="p">)</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ê³µìœ  ë°ì´í„° ìˆ˜ì • ì „ ë®¤í…ìŠ¤ë¡œ ë³´í˜¸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nx">mutex</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nx">num</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ê³µìœ  ë°ì´í„° ìˆ˜ì • í›„ ë³´í˜¸ í•´ì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">c</span><span class="p">.</span><span class="nx">mutex</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">count</span><span class="p">)</span> <span class="nf">result</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ë™ê¸°í™” ì‚¬ìš©í•œ ì˜ˆì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ì‹œìŠ¤í…œ ì „ì²´ CPU ì‚¬ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// runtime.GOMAXPROCS(1)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">c</span> <span class="o">:=</span> <span class="nx">count</span><span class="p">{</span><span class="nx">num</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">done</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">c</span><span class="p">.</span><span class="nf">increment</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="nx">done</span> <span class="o">&lt;-</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">			<span class="nx">runtime</span><span class="p">.</span><span class="nf">Gosched</span><span class="p">()</span> <span class="c1">// ë‹¤ë¥¸ CPU ì—ê²Œ ì–‘ë³´
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="o">&lt;-</span> <span class="nx">done</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">c</span><span class="p">.</span><span class="nf">result</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Result<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/_2021-04-15_10.59.06.png"
        data-srcset="/posts/images//go/_2021-04-15_10.59.06.png, /posts/images//go/_2021-04-15_10.59.06.png 1.5x, /posts/images//go/_2021-04-15_10.59.06.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/_2021-04-15_10.59.06.png"
        title="_2021-04-15_10.59.06.png" /></li>
</ul>
<h3 id="933-ì“°ê¸°-ì½ê¸°-ì „ìš©-mutex">9.3.3 ì“°ê¸°, ì½ê¸° ì „ìš© Mutex</h3>
<ul>
<li><code>RWMutex</code> : ì“°ê¸° Lock â†’ ì“°ê¸° ì‹œë„ ì¤‘ì—ëŠ” ë‹¤ë¥¸ ê³³ì—ì„œ ì´ì „ ê°’ì„ ì½ì§€ ëª»í•¨. ì½ê¸° ë½, ì“°ê¸° ë½ ì „ë¶€ ë°©ì–´(ë°©ì§€)</li>
<li><code>RMutex</code> : ì½ê¸° Lock â†’ ì½ê¸° ì‹œë„ ì¤‘ì— ê°’ ë³€ê²½ ë°©ì§€. ì¦‰ ì“°ê¸° ë½ë§Œ ë°©ì–´(ë°©ì§€)</li>
</ul>
<h4 id="ë™ê¸°í™”-ì‚¬ìš©í•˜ì§€-ì•Šì€-ê²½ìš°-ì˜ˆì œ">ë™ê¸°í™” ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ì˜ˆì œ</h4>
<ul>
<li>ì“°ê¸°, ì½ê¸° ë™ì‘ ìˆœì„œê°€ ì¼ì •í•˜ì§€ ì•Šì•„ ì˜ëª»ëœ ì˜¤ë¥˜ë¥¼ ë°˜í™˜ í•  ê°€ëŠ¥ì„± ì¦ê°€</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">data</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">data</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Write : &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">200</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Read 1 : &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Read 2 : &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">5</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ë™ê¸°í™”-ì‚¬ìš©-ì˜ˆì œ">ë™ê¸°í™” ì‚¬ìš© ì˜ˆì œ</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ì‹œìŠ¤í…œ ì „ì²´ cpu ì‚¬ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">data</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mutex</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sync</span><span class="p">.</span><span class="nx">RWMutex</span><span class="p">)</span> <span class="c1">// var mutex = new (sync.RWMutex)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// ì“°ê¸° ë®¤í…ìŠ¤ ì ê¸ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">mutex</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="nx">data</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Write : &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">200</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// ì“°ê¸° ë®¤í…ìŠ¤ ì ê¸ˆ í•´ì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">mutex</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// ì½ê¸° ë®¤í…ìŠ¤ ì ê¸ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">mutex</span><span class="p">.</span><span class="nf">RLock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Read 1 : &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">mutex</span><span class="p">.</span><span class="nf">RUnlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// ì½ê¸° ë®¤í…ìŠ¤ í•´ì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// ì½ê¸° ë®¤í…ìŠ¤ ì ê¸ˆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">mutex</span><span class="p">.</span><span class="nf">RLock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Read 2 : &#34;</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">mutex</span><span class="p">.</span><span class="nf">RUnlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="c1">// ì½ê¸° ë®¤í…ìŠ¤ í•´ì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="934-ë™ê¸°í™”-ìƒíƒœ-ë©”ì†Œë“œ">9.3.4 ë™ê¸°í™” ìƒíƒœ ë©”ì†Œë“œ</h3>
<ul>
<li>ë™ê¸°í™” ìƒíƒœ(ì¡°ê±´) ë©”ì†Œë“œ</li>
<li><code>wait</code>, <code>signal</code> , <code>Broadcast</code> ì‚¬ìš©</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ì‹œìŠ¤í…œ ì „ì²´ CPU ì‚¬ìš©
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">mutex</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">condition</span> <span class="p">=</span> <span class="nx">sync</span><span class="p">.</span><span class="nf">NewCond</span><span class="p">(</span><span class="nx">mutex</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1">// ë¹„ë™ê¸° ë²„í¼ ì±„ë„
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">mutex</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">			<span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">777</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;GoRoutine Wait -&gt; &#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">condition</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span> <span class="c1">// ê³  ë£¨í‹´ ë©ˆì¶¤(ëŒ€ê¸°)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Waiting End&#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">mutex</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// &lt;- ch
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Received : &#34;</span><span class="p">,</span> <span class="o">&lt;-</span><span class="nx">ch</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="cm">/*for i := 0; i &lt; 5; i++ {
</span></span></span><span class="line"><span class="cl"><span class="cm">		mutex.Lock()
</span></span></span><span class="line"><span class="cl"><span class="cm">		fmt.Println(&#34;Wake GoRoutine(Signal)&#34;, i)
</span></span></span><span class="line"><span class="cl"><span class="cm">		condition.Signal() // ëª¨ë“  ê³  ë£¨í‹´ ìƒì„± í›„ í•œê°œ ì”© ê¹¨ìš°ê¸°
</span></span></span><span class="line"><span class="cl"><span class="cm">		mutex.Unlock()
</span></span></span><span class="line"><span class="cl"><span class="cm">	}*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">mutex</span><span class="p">.</span><span class="nf">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Wake Goroutine(Broadcast)&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">condition</span><span class="p">.</span><span class="nf">Broadcast</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mutex</span><span class="p">.</span><span class="nf">Unlock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="935-synconce">9.3.5 sync.Once</h3>
<ul>
<li>íŠ¹ì • í•¨ìˆ˜ë¥¼ í•œ ë²ˆë§Œ ìˆ˜í–‰í•´ì•¼ í•  ë•Œ <code>sync.Once</code> ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
<li><code>sync.Once</code> êµ¬ì¡°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">o</span> <span class="o">*</span><span class="nx">Once</span><span class="p">)</span> <span class="nf">Do</span><span class="p">(</span><span class="nx">f</span> <span class="kd">func</span><span class="p">())</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>í•œ ë²ˆë§Œ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” í•¨ìˆ˜ë¥¼ <code>Do()</code> ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ì—¬ ì‹¤í–‰í•˜ë©´ ì—¬ëŸ¬ ê³ ë£¨í‹´ì—ì„œ ì‹¤í–‰í•œë‹¤ í•´ë„ í•´ë‹¹ í•¨ìˆ˜ëŠ” í•œ ë²ˆë§Œ ìˆ˜í–‰ëœë‹¤.</li>
<li>ì£¼ë¡œ ì´ˆê¸°í™”ì— ì‚¬ìš©ëœë‹¤.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">onceTest</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ì´ ë¶€ë¶„ì— í•œ ë²ˆ ì‹¤í–‰ í•  ì½”ë“œ ì‘ì„±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ì´ˆê¸°í™” ì‘ì—… ë“±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Once Test Execute!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">once</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sync</span><span class="p">.</span><span class="nx">Once</span><span class="p">)</span> <span class="c1">// Once ê°ì²´ ìƒì„±
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Go Routine -&gt; &#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">once</span><span class="p">.</span><span class="nf">Do</span><span class="p">(</span><span class="nx">onceTest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Result<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/Untitled2.png"
        data-srcset="/posts/images//go/Untitled2.png, /posts/images//go/Untitled2.png 1.5x, /posts/images//go/Untitled2.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/Untitled2.png"
        title="Untitled.png" /></li>
</ul>
<h3 id="936-syncwaitgroup">9.3.6 sync.WaitGroup</h3>
<ul>
<li><code>sync.WaitGroup</code> ëŠ” ëª¨ë“  ê³ ë£¨í‹´ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•´ì•¼ í•  ë•Œ ì‚¬ìš©í•œë‹¤.</li>
<li><code>sync.WaitGroup</code> ì´ ì œê³µí•˜ëŠ” ë©”ì„œë“œ
<ul>
<li><code>func (wg *WaitGroup) Add(delta int)</code> : WaitGroupì— ëŒ€ê¸°ì¤‘ì¸ ê³ ë£¨í‹´ ê°œìˆ˜ ì¶”ê°€</li>
<li><code>func (wg *WaitGroup) Done()</code> : ëŒ€ê¸° ì¤‘ì¸ ê³ ë£¨í‹´ì˜ ìˆ˜í–‰ì´ ì¢…ë£Œë˜ëŠ” ê²ƒì„ ì•Œë ¤ì¤Œ</li>
<li><code>func (wg *WaitGroup) Wait()</code> : ëª¨ë“  ê³ ë£¨í‹´ì´ ì¢…ë£Œ ë  ë•Œê¹Œì§€ ëŒ€ê¸°</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ê³ ë£¨í‹´ ë™ê¸°í™” ê³ ê¸‰ - 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;WaitGroup =&gt; &#34;</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Add ì™€ Done íšŸìˆ˜ê°€ ê°™ì•„ì•¼í•œë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">wg</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span> <span class="c1">// ëŒ€ê¸° ê·¸ë£¹ì´ ëë‚ ë–„ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;WaitGroup End!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Result<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/Untitled3.png"
        data-srcset="/posts/images//go/Untitled3.png, /posts/images//go/Untitled3.png 1.5x, /posts/images//go/Untitled3.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/Untitled3.png"
        title="Untitled3.png" /></li>
</ul>
<h3 id="937-ì›ìì„±ì„-ë³´ì¥í•˜ëŠ”-ì—°ì‚°">9.3.7 ì›ìì„±ì„ ë³´ì¥í•˜ëŠ” ì—°ì‚°</h3>
<ul>
<li><strong>ì›ìì„± <code>atomic</code> : ê¸°ëŠ¥ì ìœ¼ë¡œ ë¶„í•  ê°€ëŠ¥í•œ ì™„ì „ ë³´ì¦ëœ ì¼ë ¨ì˜ ì¡°ì‘. ëª¨ë‘ ì„±ê³µí•˜ê±°ë‚˜ ëª¨ë‘ ì‹¤íŒ¨í•´ì•¼ í•œë‹¤.</strong></li>
<li>ëª¨ë“  ì¡°ì‘ì´ ì™„ë£Œ ë  ë•Œê¹Œì§€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ ê°œì…ì´ ë¶ˆê°€í•˜ë‹¤.</li>
<li><code>sync.atomic</code> ì—ì„œ ì›ìì  ì—°ì‚°ìë¥¼ ì œê³µí•œë‹¤.</li>
<li>ì£¼ë¡œ ê³µìš© ë³€ìˆ˜ì— ê´€í•œ ê³„ì‚°ì— ì‚¬ìš©í•œë‹¤.</li>
<li><a href="https://golang.org/pkg/sync/atomic" target="_blank" rel="noopener noreffer">atomic - The Go Programming Language</a></li>
</ul>
<h4 id="syncatomic-íŒ¨í‚¤ì§€ê°€-ì œê³µí•˜ëŠ”-í•¨ìˆ˜">sync/atomic íŒ¨í‚¤ì§€ê°€ ì œê³µí•˜ëŠ” í•¨ìˆ˜</h4>
<table>
<thead>
<tr>
<th>í•¨ìˆ˜</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody>
<tr>
<td>AddT</td>
<td>íŠ¹ì • í¬ì¸í„° ë³€ìˆ˜ì— ê°’ì„ ë”í•¨</td>
</tr>
<tr>
<td>CompareAndSwapT</td>
<td>íŠ¹ì • í¬ì¸í„° ë³€ìˆ˜ì˜ ê°’ì„ ì£¼ì–´ì§„ ê°’ê³¼ ë¹„êµí•˜ì—¬ ê°™ìœ¼ë©´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ëŒ€ì²´í•¨</td>
</tr>
<tr>
<td>LoadT</td>
<td>íŠ¹ì • í¬ì¸í„° ë³€ìˆ˜ì˜ ê°’ì„ ê°€ì ¸ì˜´</td>
</tr>
<tr>
<td>StoreT</td>
<td>íŠ¹ì • í¬ì¸í„° ë³€ìˆ˜ì— ê°’ì„ ì €ì¥í•¨</td>
</tr>
<tr>
<td>SwapT</td>
<td>íŠ¹ì • í¬ì¸í„° ë³€ìˆ˜ì— ìƒˆë¡œìš´ ê°’ì„ ì €ì¥í•˜ê³  ì´ì „ ê°’ì„ ê°€ì ¸ì˜´</td>
</tr>
</tbody>
</table>
<h4 id="ì›ìì„±ì„-ì‚¬ìš©í•˜ì§€-ì•Šì€-ê²½ìš°">ì›ìì„±ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš°</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ì›ìì„±ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ì˜ˆì œ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">cnt</span> <span class="kt">int64</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">2000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">cnt</span> <span class="o">-=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span> <span class="c1">// ëŒ€ê¸° ê·¸ë£¹ì´ ëë‚ ë–„ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;WaitGroup End! cnt : &#34;</span><span class="p">,</span> <span class="nx">cnt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Result<br>
ê³µìš©ë³€ìˆ˜ cntì— ëŒ€í•´ ì˜¬ë°”ë¥´ì§€ ëª»í•œ ê²°ê³¼ê°’ì´ ë‚˜ì˜´.<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/Untitled4.png"
        data-srcset="/posts/images//go/Untitled4.png, /posts/images//go/Untitled4.png 1.5x, /posts/images//go/Untitled4.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/Untitled4.png"
        title="Untitled.png" /></li>
</ul>
<h4 id="ì›ìì„±-ì—°ì‚°ìë¥¼-ì‚¬ìš©í•œ-ê²½ìš°-ì˜ˆì œ">ì›ìì„± ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œ ê²½ìš° ì˜ˆì œ</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync/atomic&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ê³ ë£¨í‹´ ë™ê¸°í™” ê³ ê¸‰ - 3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="nx">runtime</span><span class="p">.</span><span class="nf">NumCPU</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">cnt</span> <span class="kt">int64</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//cnt += 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">atomic</span><span class="p">.</span><span class="nf">AddInt64</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">cnt</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">2000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="c1">//cnt -= 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>			<span class="nx">atomic</span><span class="p">.</span><span class="nf">AddInt64</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">cnt</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="p">}(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span> <span class="c1">// ëŒ€ê¸° ê·¸ë£¹ì´ ëë‚ ë–„ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="nx">finalCnt</span> <span class="o">:=</span> <span class="nx">atomic</span><span class="p">.</span><span class="nf">LoadInt64</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">cnt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;WaitGroup End! cnt : &#34;</span><span class="p">,</span> <span class="nx">cnt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;WaitGroup End! cnt : &#34;</span><span class="p">,</span> <span class="nx">finalCnt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Result<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/images//go/Untitled5.png"
        data-srcset="/posts/images//go/Untitled5.png, /posts/images//go/Untitled5.png 1.5x, /posts/images//go/Untitled5.png 2x"
        data-sizes="auto"
        alt="/posts/images//go/Untitled5.png"
        title="Untitled.png" /></li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2024-07-01&nbsp;<a class="git-hash" href="https://github.com/dillonzq/LoveIt/commit/1cb62334fdebd66987c5aece2738308899072226" target="_blank" title="commit by riley817(riley0422@icloud.com) 1cb62334fdebd66987c5aece2738308899072226: feat: 20240701112421">
                                    <i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>1cb6233</a></span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/go/">GO</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/easy-golang-section8/" class="prev" rel="prev" title="[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 8 : Go ê°ì²´ì§€í–¥"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 8 : Go ê°ì²´ì§€í–¥</a>
            <a href="/easy-golang-section10/" class="next" rel="next" title="[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 10 : ì—ëŸ¬ ì²˜ë¦¬">[ì‰½ê³  ë¹ ë¥´ê²Œ ëë‚´ëŠ” GOì–¸ì–´ í”„ë¡œê·¸ë˜ë° í•µì‹¬ ê¸°ì´ˆ ì…ë¬¸ ê³¼ì •] Section 10 : ì—ëŸ¬ ì²˜ë¦¬<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><script src="https://utteranc.es/client.js"
            repo="riley817/blog-comment"
            issue-term="pathname"
            label="âœ¨ğŸ’¬âœ¨"
            theme="github-light"
            crossorigin="anonymous"
            async>
        </script>
    </div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.128.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/riley817" target="_blank">Riley</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"search":{"algoliaAppID":"","algoliaIndex":"","algoliaSearchKey":"","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
