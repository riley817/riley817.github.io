# [Go 언어를 활용한 네트워크 프로그래밍] 1. 네트워크 시스템 개요


> Go 언어를 활용한 네트워크 프로그래밍 책 정리

**컴퓨터 네트워크`coumputer network`** 란 두 개 이상의 장치 또는 노드간의 연결을 말한다.

## 네트워크 토폴로지 선택하기
**네트워크 토폴로지`topology`** 란 네트워크상의 노드의 구성을 말한다.
### 네트워크 토폴로지 유형
{{<image src="/posts/images/go/network-topology-types.png" width="500px">}}

#### 점대점 `point-to-point` 연결형
{{<image src="/posts/images/go/point-to-point.jpg" width="500px">}}
- 두 노드가 하나의 연결을 공유 한다.
- 두 노드 간에 직접 통신이 필요할 때 매우 유용하다.

#### 데이지 체인 `daisy chain` 연결형
{{<image src="/posts/images/go/daisy-chain.jpg" width="500px">}}
- 일련의 점대점 연결
- 출발지 노드와 목적지 노드 사이의 중간 노드를 일반적으로 **홉**이라고 한다.

#### 버스형 `bus` 
{{<image src="/posts/images/go/daisy-chain.jpg" width="500px">}}
- 버스형 토폴로지상의 노드들은 공통, 공유 네트워크 링크를 갖는다.
- 주로 무선 네트워크에서 사용 된다. 유선 네트워크상의 노드는 모든 트래픽을 보고 자신에게 필요한 트래픽만을 선택적으로 무시하거나 수신한다.
- 무선 네트워크상의 노드들 또한 서로의 트래픽을 볼 수 있지만 일반적으로는 암호화 되어 있다.

#### 링형 `ring`
{{<image src="/posts/images/go/ring.jpg" width="500px">}}
- 데이터가 단일 방향으로 이동하는 폐쇄 루프 이다.
- 노드 N은 노드 O -> P -> Q를 통해 R로 메세지를 전송한다.
- 중간 노드에서 메시지를 전송하지 못하면 전송된 메세지는 목적지에 도달하지 않는다. -> 가장 느린 노드의 속도로 제한된다.

#### 스타형 `start`
{{<image src="/posts/images/go/star.jpg" width="500px">}}
- 중앙 노드는 다른 모든 노드에 개별 점대점을 연결한다.
- 유선 네트워크는 대부분 스타형 토폴로지 형태이다.
- 중앙 노드는 종종 **네트워크 스위치** 이며, 이는 데이터를 수신하여 목적지 노드로 데이터를 재전송하는 장치이다.
- 스타형 토폴로지에서는 단 하나의 홉만 이동한다.

#### 그물형 `mesh`
{{<image src="/posts/images/go/mesh.jpg" width="500px">}}
- 모든 노드는 다른 모든 노드와 직접 연결된다.
- **단일 장애 지점 (`Single Point Of Failure, SPOF`) 제거** : 단일 노드의 장애 시 다른 노드 간 트래픽에 영향을 주지 않는다.
- 노드 수가 증가함에 따라 복잡성이 증가하기 때문에 대규모 네트워크에서는 사용할 수 없다.

#### 하이브리드 `hybrid` 토폴로지 
{{<image src="/posts/images/go/hybrid-topology.jpeg" width="500px">}}
- 둘 이상의 기본적인 토폴로지를 결합한 형태
- 보통 하나의 네트워크 토폴로지만 구성된 경우는 거의 없으며 대부분 하이브리드 토폴로지의 형태로 구성하고 있다.
- 각 토폴로지의 장점을 활용하고 단점을 개별 네트워크 세그먼트로 제한하여 안정성, 확장성 및 유연성을 향상할 수 있다. 

## 대역폭 vs 레이턴시
### 네트워크 대역폭 `bandwith`
- **네트워크 대역폭** 이란 일정 시간 내에 네트워크 연결을 통해 전송할 수 있는 데이터의 양을 의미한다.
- 대역폭이 높다고 해서 반드시 성능이 좋은 것은 아니다. 
- 대역폭이 낮더라도 레이턴시가 작은 경우 대역폭이 높지만 큰 레이턴시를 갖는 네트워크보다 성능이 좋을 수 있다.
### 네트워크 레이턴시 `latency`
- **네트워크 레이턴시**는 네트워크 리소스 요청을 보내고 응답을 받는 사이에 측정된 시간이다.
- 레이턴시가 크면 나쁜 사용자 경험을 제공하게 되며, 종종 악의적인 공격자들에 의해 DDos 공격을 받을 수도 있다.
- ex) 웹사이트의 링크를 클릭 후 결과 페이지가 화면상에 렌더링될 때 소요되는 시간 
#### 레이턴시 해결 방법들
1. `CDN(Content Delivery Network)` 이나 클라우드를 사용하여 사용자와 서비스 사이의 거리와 홉 수를 줄인다.
2. 요청 및 응답 크기를 최적화하여 레이턴시를 줄일 수 있다.
3. 캐싱 전략을 수립하여 성능을 크게 개선할 수 있다.
4. 동시성, 병행성을 통하여 응답이 블로킹 되는 것을 최소화한다. (Go 언어의 고루틴 등을 활용)

## OSI(Open Systems Interconnection) 참조 모델
- OSI 참조 모델은 프로토콜의 개발과 통신을 위한 프레임워크의 역할을 한다.
- **프로토콜 (`protocol`)** : 네트워크를 통해 전송되는 데이터의 포맷과 순서를 결정하는 규칙 혹은 절차를 의미한다. 

### OSI 참조 모델의 계층 구조 레이어
{{<image src="/posts/images/go/osi-model.png" width="1000px">}}
