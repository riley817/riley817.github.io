# [TIL & Issue Note] 20230221


## `Deterministic`은 왜 해킹에 취약한가
- Deterministic 은 양쪽 input set을 공유하여 status 를 맞추는 방식으로 동작한다.
- input에 의존하기 때문에 input에 대한 변조를 통한 해킹에 취약하다.

### input set을 검사하는 방법
1. 서버에서 패킷을 검사한다.
  - Stateless Server : 중계(Relay) 서버의 경우 현재 게임상태나 게임의 룰을 알고 있지 않아도 된다. (단순히 패킷을 전달하는 역할을 하기 때문) 
2. 클라이언트끼리 상대방의 패킷이 정당한지 검사한다.
3. 혹은 방장이 참여 클라이언트의 패킷이 전당한지 검사한다.

## 해킹을 막는 방법
- tolerance 범위가 넘어가는 경우 해킹으로 간주한다. 하지만 그 오차범위의 경계를 이용하는 해킹들도 있기 때문에 완벽하게 막을 수는 없다.

### 해킹의 종류와 대응 방법
- 내부해킹 : 실행파일 자체를 조작한다. `.exe` 등 실행파일도 결국은 소스이므로 코드를 역 어셈블리화하여 변조한다.
  - 실행파일의 파일 사이즈가 변경되었는지 체크한다.
  - `checksum` 의 해쉬 값을 비교하여 실행파일이 조작되었는지 판별한다.
  - 코드를 암호화 한다.
- 외부툴로 인한 해킹 : 실행파일을 실행한 상태에서 외부 해킹툴을 이용하는 방법.
  - 블랙아웃을 통한 해킹 툴 차단
  - 특정 보안툴을 실행하지 않으면 게임 자체가 실행안되도록 설계 등



